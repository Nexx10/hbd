<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <!-- Ganti Title dan Ikon biar pas dikirim linknya rapi -->
    <title>Untuk Nana üéÅ</title>
    <link rel="icon" href="https://fav.farm/üéÅ" />

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "Inter", sans-serif;
        overflow: hidden;
        /* Mencegah highlight biru pas tap di mobile */
        -webkit-tap-highlight-color: transparent;
      }

      /* --- STYLING PINTU --- */
      .door-handle {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        width: 0.5rem;
        height: 5rem;
        background-color: #f59e0b;
        border-radius: 9999px;
        box-shadow: 0 0 10px rgba(245, 158, 11, 0.7);
      }

      /* --- ANIMASI BALON --- */
      @keyframes flyAndSway {
        0% {
          transform: translateY(0) translateX(0);
          opacity: 1;
        }
        100% {
          transform: translateY(-110vh) translateX(0);
          opacity: 0;
        }
      }
      .balloon {
        position: absolute;
        bottom: -100px;
        font-size: 3rem;
        z-index: 45;
        animation-name: flyAndSway;
        animation-timing-function: linear;
        animation-iteration-count: 1;
        will-change: transform;
      }

      /* --- STYLING SLIDER --- */
      .slide-page {
        width: 100vw;
        /* FALLBACK & MOBILE FIX: Pake dvh biar gak ketutup address bar browser HP */
        height: 100vh;
        height: 100dvh;

        flex-shrink: 0;
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
        z-index: 10;
        background-color: transparent;
      }

      .slider-arrow {
        position: fixed;
        top: 50%;
        transform: translateY(-50%);
        z-index: 60;
        background-color: rgba(255, 255, 255, 0.5);
        backdrop-filter: blur(4px);
        border-radius: 9999px;
        padding: 0.75rem;
        cursor: pointer;
        transition: all 0.2s;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      }
      .slider-arrow:hover {
        background-color: rgba(255, 255, 255, 0.8);
        transform: translateY(-50%) scale(1.1);
      }

      /* Animasi Panah biar dinotis */
      @keyframes pulse-right {
        0%,
        100% {
          transform: translateY(-50%) translateX(0);
        }
        50% {
          transform: translateY(-50%) translateX(5px);
        }
      }
      .slider-arrow.right-4 {
        animation: pulse-right 1.5s infinite ease-in-out;
      }

      /* --- DEKORASI BACKGROUND --- */
      .background-decoration {
        position: fixed;
        inset: 0;
        z-index: 0;
        pointer-events: none;
      }
      .decoration-element {
        position: absolute;
        border-radius: 50%;
        opacity: 0.3;
        filter: blur(50px);
        background: linear-gradient(135deg, #fcd34d, #f97316);
        mix-blend-mode: multiply;
      }
      .decoration-1 {
        width: 300px;
        height: 300px;
        top: 10%;
        left: -5%;
      }
      .decoration-2 {
        width: 400px;
        height: 400px;
        bottom: 5%;
        right: -10%;
        opacity: 0.2;
      }

      body::before {
        content: "";
        position: fixed;
        inset: 0;
        background-image: url('data:image/svg+xml;base64,PHN2ZyB2aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZmlsdGVyIGlkPSJub2lzZSIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwMCUiIGhlaWdodGg9IjEwMCUiPgogICAgPGZlVHVyYnVsZW5jZSB0eXBlPSJmcmFjdGFsTm9pc2UiIGJhc2VGcmVxdWVuY3k9IjAuNzUiIG51bU9jdGF2ZXM9IjIiIHNlZWQ9IjAiIHN0aXRjaFRpbGVzPSJub2lzZSIvPgogICAgPGZlQ29sb3JNYXRyaXggdHlwZT0ic2F0dXJhdGUiIHZhbHVlcz0iMCIvPgogICAgPGZlQ29sb3JNYXRyaXggdHlwZT0ibHVtaW5hbmNlVG9Alpha"IHJvb3RNb2Q9IjEuNSIgaW50ZXJjZXB0PSJyZXN1bHQiIG9wZXJhdG9yPSJpbiIgaW5wdXQyPSJzb3VyY2VBbHBoYSIgdmFsdWVzPSIxIDAgMCAwIDAgMCAxIDAgMCAwIDAgMCAxIDAgMCAwIDAgMCAwIDAgMCIvPgogICAgPGZlQ29tcG9zaXRlIG9wZXJhdG9yPSJpbiIgaW5wdXQyPSJzb3VyY2VBbHBoYSIgdmFsdWVzPSIxIDAgMCAwIDAgMCAxIDAgMCAwIDAgMCAxIDAgMCAwIDAgMCAwIDAgMCIvPgogIDwvZmlsdGVyPgogIDxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9IiNGRkZGRkYiIGZpbHRlcj0idXJsKCNub2lzZSkwIiBvcGFjaXR5PSIwLjA1Ii8+Cjwvc3ZnPg==');
        opacity: 0.5;
        pointer-events: none;
        z-index: 1;
        mix-blend-mode: soft-light;
      }

      .glass-box {
        background-color: rgba(255, 255, 255, 0.7);
        backdrop-filter: blur(8px);
        border-radius: 1rem;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      }

      /* --- STYLING LILIN & KUE BARU (CSS ART) --- */
      .cake-container {
        position: relative;
        width: 250px;
        height: 200px;
        margin: 0 auto;
        margin-top: 50px;
        cursor: pointer;
      }

      .plate {
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 270px;
        height: 110px;
        background-color: #e5e7eb; /* gray-200 */
        border-radius: 50%;
        box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
        z-index: 1;
      }

      .cake-body {
        position: absolute;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%);
        width: 200px;
        height: 100px;
        z-index: 10;
      }

      /* Layers */
      .layer {
        position: absolute;
        width: 100%;
        height: 60px;
        border-radius: 50%;
      }

      .layer-bottom {
        bottom: 0;
        background-color: #fcd34d; /* Sponge (Yellow) */
        box-shadow: 0 4px 0 #d97706, 0 8px 0 #d97706, 0 12px 0 #d97706; /* Shadow tebal */
        z-index: 1;
      }

      .layer-middle {
        bottom: 25px;
        background-color: #fca5a5; /* Cream (Pink) */
        box-shadow: 0 4px 0 #e11d48;
        z-index: 2;
        width: 95%; /* Sedikit lebih kecil */
        left: 2.5%;
      }

      .layer-top {
        bottom: 50px;
        background-color: #fcd34d; /* Sponge (Yellow) */
        box-shadow: 0 4px 0 #d97706;
        z-index: 3;
      }

      /* Icing (Bagian Atas) */
      .icing {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 50px;
        background-color: #fef3c7; /* White/Cream */
        border-radius: 50%;
        z-index: 4;
        border-bottom: 2px solid #fde68a;
      }

      /* Drip Decoration */
      .drip {
        position: absolute;
        top: 25px; /* Setengah dari tinggi icing */
        background-color: #fef3c7;
        width: 20px;
        height: 30px;
        border-radius: 0 0 10px 10px;
        z-index: 4;
      }
      .drip:nth-child(1) {
        left: 20px;
        height: 35px;
      }
      .drip:nth-child(2) {
        left: 50px;
        height: 25px;
      }
      .drip:nth-child(3) {
        left: 80px;
        height: 40px;
      }
      .drip:nth-child(4) {
        right: 40px;
        height: 30px;
      }
      .drip:nth-child(5) {
        right: 70px;
        height: 25px;
      }

      /* Candle */
      .candle {
        position: absolute;
        top: -40px;
        left: 50%;
        transform: translateX(-50%);
        width: 16px;
        height: 50px;
        background: repeating-linear-gradient(
          45deg,
          #f87171,
          #f87171 5px,
          #ffffff 5px,
          #ffffff 10px
        );
        z-index: 5;
        border-radius: 4px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }

      /* Flame */
      .flame {
        position: absolute;
        top: -20px;
        left: 50%;
        transform: translateX(-50%);
        width: 14px;
        height: 24px;
        background: orange;
        border-radius: 50% 50% 20% 20%;
        box-shadow: 0 0 10px orange, 0 0 20px yellow;
        animation: flicker 0.5s infinite alternate;
        z-index: 6;
        transition: opacity 0.3s;
      }
      .flame.off {
        opacity: 0;
      }

      @keyframes flicker {
        0% {
          transform: translateX(-50%) scale(1);
          opacity: 1;
        }
        100% {
          transform: translateX(-50%) scale(1.1);
          opacity: 0.8;
        }
      }

      /* Smoke */
      .smoke {
        position: absolute;
        top: -25px;
        left: 50%;
        transform: translateX(-50%);
        width: 8px;
        height: 20px;
        background: rgba(150, 150, 150, 0.6);
        border-radius: 50%;
        opacity: 0;
        z-index: 5;
      }
      @keyframes smokeUp {
        0% {
          opacity: 0.8;
          transform: translateX(-50%) translateY(0) scale(1);
        }
        100% {
          opacity: 0;
          transform: translateX(-50%) translateY(-40px) scale(2);
        }
      }

      /* Musik Control Button */
      #musicControl {
        position: fixed;
        bottom: 20px;
        left: 20px;
        z-index: 100;
        background: white;
        padding: 10px;
        border-radius: 50%;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        cursor: pointer;
        transition: transform 0.2s;
      }
      #musicControl:hover {
        transform: scale(1.1);
      }

      /* Play Button Style di Pintu */
      .play-btn {
        background-color: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(4px);
        border: 2px solid rgba(255, 255, 255, 0.8);
        border-radius: 9999px;
        padding: 1rem 2rem;
        transition: all 0.3s ease;
      }
      .play-btn:hover {
        background-color: rgba(255, 255, 255, 0.4);
        transform: scale(1.05);
      }

      /* --- FIREFLIES ANIMATION --- */
      .firefly {
        position: absolute;
        width: 6px;
        height: 6px;
        background-color: #fbbf24; /* amber-400 */
        border-radius: 50%;
        box-shadow: 0 0 10px #fbbf24, 0 0 20px #f59e0b;
        opacity: 0;
        pointer-events: none;
        z-index: 5; /* Di atas background, di bawah konten */
        animation: fly 10s infinite ease-in-out;
      }
      @keyframes fly {
        0% {
          transform: translate(0, 0) scale(0);
          opacity: 0;
        }
        10% {
          opacity: 1;
          transform: translate(10px, -20px) scale(1);
        }
        50% {
          transform: translate(-20px, -50px) scale(0.8);
          opacity: 0.8;
        }
        90% {
          opacity: 1;
          transform: translate(20px, -80px) scale(1.2);
        }
        100% {
          transform: translate(0, -100px) scale(0);
          opacity: 0;
        }
      }

      /* --- CONFETTI ANIMATION --- */
      .confetti {
        position: absolute;
        top: -10px;
        width: 10px;
        height: 10px;
        z-index: 50;
        animation: fall linear forwards;
      }
      @keyframes fall {
        to {
          transform: translateY(100vh) rotate(720deg);
          opacity: 0;
        }
      }
    </style>
  </head>

  <body class="bg-yellow-50 relative">
    <!-- AUDIO ELEMENT -->
    <audio id="bgMusic" loop>
      <source
        src="https://raw.githubusercontent.com/Nexx10/hbd/main/music/Birthday%20Song%20Piano%20cover%20(Happy%20birthday%20to%20me%20XD)%20-%20jeffip97music.mp3"
        type="audio/mpeg"
      />
    </audio>

    <!-- BUTTON MUSIK MANUAL -->
    <button id="musicControl" title="Play/Pause Music">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6 text-amber-600"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"
        />
      </svg>
    </button>

    <!-- WATERMARK MEERAX -->
    <div
      class="fixed bottom-4 right-4 z-50 text-xs font-semibold text-neutral-400 pointer-events-none select-none tracking-wide"
    >
      Made with ‚ù§Ô∏è by Meerax
    </div>

    <!-- CONTAINER FIREFLIES -->
    <div
      id="fireflyContainer"
      class="fixed inset-0 pointer-events-none z-0"
    ></div>

    <div class="background-decoration">
      <div class="decoration-element decoration-1"></div>
      <div class="decoration-element decoration-2"></div>
    </div>

    <main
      id="sliderWrapper"
      class="transition-opacity duration-1000 opacity-0 relative z-20"
    >
      <div
        id="sliderContainer"
        class="flex transition-transform duration-700 ease-in-out"
      >
        <!-- SLIDE 1: INTRO -->
        <section class="slide-page text-center p-8">
          <div class="space-y-4">
            <h1
              class="text-4xl sm:text-5xl md:text-6xl font-bold text-neutral-800"
            >
              Selamat Ulang Tahun,
            </h1>
            <p class="text-2xl sm:text-3xl text-amber-700 font-semibold">
              Nana
            </p>
            <p class="text-lg text-neutral-600 max-w-md mx-auto pt-4">
              Ada pesan singkat buat kamu... <br />
              <span class="text-sm text-gray-500 animate-pulse"
                >(Geser ke kanan üëâ)</span
              >
            </p>
          </div>
        </section>

        <!-- SLIDE 2: SURAT SINGKAT -->
        <section class="slide-page p-8">
          <div class="glass-box max-w-2xl w-full p-8 text-left">
            <div
              class="mb-4 text-amber-600 font-bold tracking-widest uppercase text-xs"
            >
              Pesan Untukmu
            </div>
            <div class="space-y-6 text-neutral-700 leading-relaxed text-lg">
              <p>Halo Naa,</p>
              <p>
                Selamat Ulang Tahun yaa, Selamat bertambah dewasa, sebenernya
                jadi dewasa emang gaenak sih, cape, tapi kalo kamu aku yakin
                pasti kuat, semoga di tahun dan umur yang baru ini kamu bisa
                jadi lebih kuat dari sebelumnya, jadi lebih hebat lagi, dan
                semoga harapan harapan baru yang kamu inginkan bisa terkabul.
              </p>
              <p>
                Doa buat kamu seperti biasa, semoga selalu diberi kesehatan,
                dilancarkan rezekinya, dan semoga selalu dikelilingi sama orang
                orang yang sayang sama kamu, yang selalu ada buat kamu, yang
                selalu bikin kamu senyum dan seneng.
              </p>
              <p>
                Sebenernya harapan dan doa mah banyak tapi segitu aja nanti web
                nya kepanjangan hahaha.
              </p>
              <p class="text-right font-semibold text-neutral-800 mt-8">
                Best regards,<br />Meerax
              </p>
            </div>
          </div>
        </section>

        <!-- SLIDE 3: TIUP LILIN (NEW CSS ART CAKE) -->
        <section class="slide-page p-8">
          <div class="glass-box max-w-lg w-full p-8 text-center">
            <h2 class="text-2xl font-bold text-neutral-800 mb-2">
              Make a Wish ‚ú®
            </h2>
            <p class="text-neutral-600 mb-8">
              Tutup mata, doa dalam hati, terus tiup lilinnya (klik).
            </p>

            <!-- NEW ANIMATED CAKE -->
            <div class="cake-container" onclick="blowCandle()">
              <div class="plate"></div>
              <div class="cake-body">
                <div class="layer layer-bottom"></div>
                <div class="layer layer-middle"></div>
                <div class="layer layer-top">
                  <div class="icing"></div>
                  <div class="drip"></div>
                  <div class="drip"></div>
                  <div class="drip"></div>
                  <div class="drip"></div>
                  <div class="drip"></div>
                </div>
                <!-- Candle -->
                <div class="candle">
                  <div id="flame" class="flame"></div>
                  <div id="smoke" class="smoke"></div>
                </div>
              </div>
            </div>

            <p
              id="wishMessage"
              class="text-lg font-semibold text-amber-700 opacity-0 transition-opacity duration-1000 mt-8"
            >
              Semoga terkabul! üôè
            </p>
          </div>
        </section>

        <!-- SLIDE 4: PENUTUP -->
        <section class="slide-page text-center p-8">
          <div class="space-y-6">
            <div class="text-6xl animate-bounce py-4">üéâ</div>
            <h2 class="text-3xl md:text-4xl font-bold text-neutral-800">
              Have a Great Year Ahead!
            </h2>
            <button
              onclick="location.reload()"
              class="mt-8 px-6 py-2 bg-white border border-amber-200 text-amber-600 rounded-full text-sm hover:bg-amber-50 transition-colors"
            >
              Replay ‚Ü∫
            </button>
          </div>
        </section>
      </div>

      <!-- Navigation Buttons -->
      <button id="prevButton" class="slider-arrow left-4 hidden">
        <svg
          class="w-6 h-6 text-neutral-700"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M15 19l-7-7 7-7"
          ></path>
        </svg>
      </button>
      <button id="nextButton" class="slider-arrow right-4 hidden">
        <svg
          class="w-6 h-6 text-neutral-700"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M9 5l7 7-7 7"
          ></path>
        </svg>
      </button>
    </main>

    <!-- PINTU -->
    <div
      id="doorContainer"
      class="fixed top-0 left-0 w-full h-full flex items-center justify-center z-50 cursor-pointer bg-black/20"
    >
      <div
        id="leftDoor"
        class="absolute top-0 left-0 w-1/2 h-full bg-gray-900 transition-transform duration-1000 ease-in-out"
      >
        <span class="door-handle right-4"></span>
      </div>
      <div
        id="rightDoor"
        class="absolute top-0 right-0 w-1/2 h-full bg-gray-900 transition-transform duration-1000 ease-in-out"
      >
        <span class="door-handle left-4"></span>
      </div>

      <!-- TOMBOL KETUK -->
      <div
        id="tapButton"
        class="relative z-10 text-center text-white transition-opacity duration-300"
      >
        <div
          class="play-btn flex flex-col items-center gap-2 group cursor-pointer"
        >
          <div class="text-5xl animate-bounce">üéÅ</div>
          <h2 class="text-2xl font-bold">Ketuk untuk Membuka</h2>
          <p class="text-sm text-gray-200 group-hover:text-white">
            Ada rahasia di dalam...
          </p>
        </div>
      </div>
    </div>

    <!-- MODAL POPUP USERNAME -->
    <div
      id="usernameModal"
      class="fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm hidden opacity-0 transition-opacity duration-300"
    >
      <div
        class="glass-box p-8 max-w-sm w-full mx-4 text-center transform scale-95 transition-transform duration-300"
        id="modalBox"
      >
        <h3 class="text-xl font-bold text-gray-800 mb-2">Tunggu Dulu! ‚úã</h3>
        <p class="text-gray-600 mb-6 text-sm">
          Masukin nama panggilan kamu biar pintunya kebuka.
        </p>

        <input
          type="text"
          id="usernameInput"
          placeholder="Nama kamu..."
          class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-amber-500 mb-2 text-center"
        />

        <p id="loginFeedback" class="text-sm font-semibold h-5 mb-4"></p>

        <button
          id="submitUsername"
          class="w-full bg-amber-500 hover:bg-amber-600 text-white font-bold py-2 px-4 rounded-lg transition-colors"
        >
          Buka Hadiah üéµ
        </button>
      </div>
    </div>

    <script>
      // --- LOGIKA UTAMA ---
      const doorContainer = document.getElementById("doorContainer");
      const tapButton = document.getElementById("tapButton");
      const sliderWrapper = document.getElementById("sliderWrapper");
      const bgMusic = document.getElementById("bgMusic");
      const musicControl = document.getElementById("musicControl");

      // Modal Elements
      const usernameModal = document.getElementById("usernameModal");
      const modalBox = document.getElementById("modalBox");
      const usernameInput = document.getElementById("usernameInput");
      const submitUsername = document.getElementById("submitUsername");
      const loginFeedback = document.getElementById("loginFeedback");

      // FUNGSI MUSIK AMAN
      function playMusicSafe() {
        if (bgMusic) {
          bgMusic.volume = 0.5;
          bgMusic
            .play()
            .then(() => {
              console.log("Audio playing...");
            })
            .catch((e) => {
              console.log("Audio play failed:", e);
            });
        }
      }

      // TOMBOL MUSIK MANUAL
      musicControl.addEventListener("click", (e) => {
        e.stopPropagation();
        if (bgMusic.paused) {
          playMusicSafe();
        } else {
          bgMusic.pause();
        }
      });

      // 1. TRIGGER PINTU
      doorContainer.addEventListener("click", (e) => {
        usernameModal.classList.remove("hidden");
        setTimeout(() => {
          usernameModal.classList.remove("opacity-0");
          modalBox.classList.remove("scale-95");
          modalBox.classList.add("scale-100");
        }, 10);
        setTimeout(() => usernameInput.focus(), 100);
      });

      // 2. Logic Cek Username
      function checkLogin() {
        const val = usernameInput.value.trim().toLowerCase();

        if (val === "nana") {
          // BENAR -> MAIN MUSIK & BUKA PINTU
          loginFeedback.textContent = "Halo Nana! üéâ";
          loginFeedback.className =
            "text-sm font-semibold h-5 mb-4 text-green-600";

          playMusicSafe();
          startFireflies(); // Mulai kunang-kunang

          setTimeout(() => {
            closeModal();
            openDoor();
          }, 800);
        } else if (val === "nabila") {
          // HAMPIR BENAR (Diupdate sesuai request)
          loginFeedback.textContent = "Hampir bener... coba nama lain?";
          loginFeedback.className =
            "text-sm font-semibold h-5 mb-4 text-orange-500";
          shakeModal();
        } else {
          loginFeedback.textContent = "Salah, hayo siapa?";
          loginFeedback.className =
            "text-sm font-semibold h-5 mb-4 text-red-500";
          shakeModal();
        }
      }

      submitUsername.addEventListener("click", (e) => {
        e.stopPropagation();
        checkLogin();
      });

      usernameInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") checkLogin();
      });

      function closeModal() {
        usernameModal.classList.add("opacity-0");
        setTimeout(() => {
          usernameModal.classList.add("hidden");
        }, 300);
      }

      function shakeModal() {
        modalBox.classList.add("animate-pulse");
        setTimeout(() => modalBox.classList.remove("animate-pulse"), 500);
      }

      function openDoor() {
        document.getElementById("leftDoor").style.transform =
          "translateX(-100%)";
        document.getElementById("rightDoor").style.transform =
          "translateX(100%)";
        tapButton.style.opacity = "0";
        doorContainer.style.cursor = "default";

        spawnBalloons();
        setTimeout(() => {
          sliderWrapper.style.opacity = "1";
          updateArrows();
        }, 500);

        setTimeout(() => (doorContainer.style.zIndex = "-10"), 1500);
      }

      // --- FUNGSI EFEK VISUAL ---

      // 1. Kunang-kunang (Fireflies)
      function startFireflies() {
        const container = document.getElementById("fireflyContainer");
        for (let i = 0; i < 15; i++) {
          const fly = document.createElement("div");
          fly.classList.add("firefly");
          // Posisi random
          fly.style.left = Math.random() * 100 + "vw";
          fly.style.top = Math.random() * 100 + "vh";
          // Delay animasi random biar gak barengan
          fly.style.animationDelay = Math.random() * 5 + "s";
          fly.style.animationDuration = Math.random() * 5 + 5 + "s"; // 5-10s
          container.appendChild(fly);
        }
      }

      // 2. Confetti
      function spawnConfetti() {
        const colors = ["#f87171", "#fbbf24", "#34d399", "#60a5fa", "#a78bfa"];
        for (let i = 0; i < 50; i++) {
          const conf = document.createElement("div");
          conf.classList.add("confetti");
          conf.style.backgroundColor =
            colors[Math.floor(Math.random() * colors.length)];
          conf.style.left = Math.random() * 100 + "vw";
          conf.style.animationDuration = Math.random() * 2 + 2 + "s"; // 2-4s fall
          conf.style.opacity = Math.random();
          document.body.appendChild(conf);

          // Hapus setelah jatuh
          setTimeout(() => conf.remove(), 4000);
        }
      }

      function spawnBalloons() {
        for (let i = 0; i < 8; i++) {
          setTimeout(() => {
            const b = document.createElement("div");
            b.innerHTML = "üéà";
            b.className = "balloon";
            b.style.left = Math.random() * 90 + 5 + "vw";
            b.style.animationDuration = Math.random() * 3 + 4 + "s";
            document.body.appendChild(b);
            setTimeout(() => b.remove(), 7000);
          }, Math.random() * 1500);
        }
      }

      // --- SLIDER LOGIC ---
      const sliderContainer = document.getElementById("sliderContainer");
      const prevBtn = document.getElementById("prevButton");
      const nextBtn = document.getElementById("nextButton");
      const slides = document.querySelectorAll(".slide-page");
      let currentSlide = 0;

      function goToSlide(index) {
        if (index < 0 || index >= slides.length) return;
        sliderContainer.style.transform = `translateX(-${index * 100}vw)`;
        currentSlide = index;
        updateArrows();
      }

      function updateArrows() {
        prevBtn.classList.toggle("hidden", currentSlide === 0);
        nextBtn.classList.toggle("hidden", currentSlide === slides.length - 1);
      }

      nextBtn.addEventListener("click", () => goToSlide(currentSlide + 1));
      prevBtn.addEventListener("click", () => goToSlide(currentSlide - 1));

      // --- MINIGAME TIUP LILIN ---
      let isBlown = false;
      function blowCandle() {
        if (isBlown) return;
        isBlown = true;

        const flame = document.getElementById("flame");
        flame.classList.add("off");

        const smoke = document.getElementById("smoke");
        smoke.style.animation = "smokeUp 1s forwards";

        document.getElementById("wishMessage").style.opacity = "1";

        // Efek Confetti Pas Tiup Lilin
        spawnConfetti();
      }
    </script>
  </body>
</html>
